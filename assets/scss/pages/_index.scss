@use 'sass:math';
@use "../abstracts/mixins" as *;

:root, [data-bs-theme=light]{
	--c-index-white:	#FFFFFF;
	--c-index-black:	#000000;

	--c-index-brand: 	#009990;
	--c-index-main: 	#89B0C1;
	--c-index-sub: 	#E3F1F2;
	--c-index-brand-t:	#FBDF3E;
	--c-index-main-t:		#000000;
	--c-index-sub-t: 	#000000;

	--c-index-btn: 	#FBDF3E;
	--c-index-btn-t: #000000;
	--c-index-btn-hover: 	#009990;
	--c-index-btn-hover-t: #FFFFFF;

	--c-index-section-1: #FBDF3E;
	--c-index-section-1-t: #000000;
	--c-index-section-2: #E4F1F2;
	--c-index-section-2-t: #000000;
	--c-index-section-3: #FFFFFF;
	--c-index-section-3-t: #000000;

	--c-index-highlight: 		#009990;

	--c-index-hover:		 		#009990;
	--c-index-hover-t:		 	#FBDF3E;
	--c-index-dark:		 		#B0CDDF;
	--c-index-bright:		 	#FBDF3E;
	--c-index-lite:		 	#F1EFEE;
	--c-index-blue:		 	#48C8FA;
	--c-index-yellow:		 	#FBDF3E;
	--c-index-red:		 	#FF6278;
}

[data-bs-theme="dark"] {
	--c-index-brand: 	#496CB3;
	--c-index-main: 	#0067B7;
	--c-index-sub: 	#E3F1F2;
	--c-index-brand-t:	#FFFFFF;
	--c-index-main-t:		#FFFFFF;
	--c-index-sub-t: 	#FFFFFF;
	--c-index-highlight: 		#0067B7;
	--c-index-highlight-t: 	#FFFFFF;

	--c-index-btn: 	#C02679;
	--c-index-btn-t: #FFFFFF;
	--c-index-btn-hover: 	#0067B7;
	--c-index-btn-hover-t: #FFFFFF;

	--c-index-section-1: #0067B7;
	--c-index-section-1-t: #FFFFFF;
	--c-index-section-2: #354589;
	--c-index-section-2-t: #FFFFFF;
	--c-index-section-3: #063648;
	--c-index-section-3-t: #FFFFFF;

	--c-index-highlight: 		#F3FF51;

	--c-index-hover:		 		#C02679;
	--c-index-hover-t:		 	#000000;
	--c-index-dark:		 		#121212;
	--c-index-bright:		 	#496CB3;
	--c-index-lite:		 	#F1EFEE;
	--c-index-blue:		 	#70BFE0;
	--c-index-yellow:		 	#FBDF3E;
}


[data-bs-theme="contrast"]{
	--c-index-white:	#FFFFFF;
	--c-index-black:	#000000;

	--c-index-brand: 	#3C008C;
	--c-index-main: 	#89B0C1;
	--c-index-sub: 	#E3F1F2;
	--c-index-brand-t:	#FFFFFF;
	--c-index-main-t:		#000000;
	--c-index-sub-t: 	#000000;

	--c-index-btn: 	#F3FF51;
	--c-index-btn-t: #000000;
	--c-index-btn-hover: 	#3C008C;
	--c-index-btn-hover-t: #FFFFFF;

	--c-index-section-1: #F3FF51;
	--c-index-section-1-t: #000000;
	--c-index-section-2: #63E6BD;
	--c-index-section-2-t: #000000;
	--c-index-section-3: #F8F7F3;
	--c-index-section-3-t: #000000;

	--c-index-highlight: 		#3C008C;

	--c-index-hover:		 		#3C008C;
	--c-index-hover-t:		 	#FFFFFF;
	--c-index-dark:		 		#57A1AE;
	--c-index-bright:		 	#63E6BD;
	--c-index-lite:		 	#F1EFEE;
	--c-index-blue:		 	#FBDF3E;
	--c-index-yellow:		 	#FBDF3E;
}

#index{
	#content{
		position: relative;
		margin-top: 2rem;
		padding: 0;
		z-index: 1;
		section{
			max-width: 100%;
			.wrapper{
				max-width: 1440px;
				margin: 0 auto;
				padding: 2rem;
				overflow: hidden;
				header{
					text-align: center;
					h2{
						margin-bottom: 1.5rem;
					}
					p{
						font-size: 1.2rem;
					}
				}
			}
		}
	}
	.index-section-1{
		position: relative;
		background-color: var(--c-index-section-1);
		color: var(--c-index-section-1-t);
		margin: 10vw 0;
		padding: 3rem 0;
		&::before{
			position: absolute;
			left:0;
			top: -9.5vw;
			content: '';
			background-color: var(--c-index-section-1);
			mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 1366 129.2" viewBox="0 0 1366 129.2"><path d="M0 85.7C131.3 85.7 229.8 0 426.4 0c301.3 0 416.4 110 635.1 110 176.3 0 304.5-80 304.5-80v99.2H0V85.7z"/></svg>');
			mask-repeat: no-repeat;
			mask-size: cover;
			display: block;
			width: 100%;
			height: auto;
			aspect-ratio: 10 / 1;
		}
		&::after{
			position: absolute;
			left:0;
			bottom: -9.5vw;
			content: '';
			background-color: var(--c-index-section-1);
			mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 1366 129.2" viewBox="0 0 1366 129.2"><path d="M0 85.7C131.3 85.7 229.8 0 426.4 0c301.3 0 416.4 110 635.1 110 176.3 0 304.5-80 304.5-80v99.2H0V85.7z"/></svg>');
			mask-repeat: no-repeat;
			mask-size: cover;
			display: block;
			width: 100%;
			height: auto;
			scale: -1;
			aspect-ratio: 10 / 1;
		}
		header{
			h2{
				padding-bottom: 3rem;
				color: var(--c-index-highlight);
			}
			p{
				color: var(--c-index-section-1-t);
			}
		}
		.wrapper{
			display: flex;
			flex-wrap: wrap;
			gap: 1rem;
			z-index: 1;
			justify-content: space-around;
			header{
				flex: 0 0 100%;
			}
			div{
				flex: 0 0 100%;
				text-align: center;
				padding: 3rem 0 1rem 0;
				letter-spacing: 1px;
				border-left: none 0px transparent;
				border-top: 1px solid var(--c-index-white);
				&:last-child{
					border-right: none 0px transparent;
					border-bottom: 1px solid var(--c-index-white);
				}
				.icon{
					display: flex;
					justify-content: center;
					align-items: center;
					width: 6rem;
					aspect-ratio: 1 / 1;
					margin: 0 auto 2rem auto;
					font-size: 3rem;
					background-color: var(--c-index-white);
					color: var(--c-index-hover);
					text-align: center;
					border-radius: 99rem;
					border: .2rem solid var(--c-index-section-1);
					box-shadow: 0 0 0 .3rem var(--c-index-white);
					transition: all .3s ease-in-out;
				}
				h3{
					font-size: 1.5rem;
					color: var(--c-index-highlight);
					font-weight: bold;
					margin-bottom: .5rem;
					transition: all .3s ease-in-out;
				}
				&:hover{
					.icon{
						background-color: var(--c-index-white);
						color: var(--c-index-red);
						border: .2rem solid var(--c-index-section-1);
						box-shadow: 0 0 0 .3rem var(--c-index-white);
						scale: 1.2;
						rotate: 720deg;
					}
					h3{
						letter-spacing: 3px;
					}
				}
				@include MD{
					flex: 0 0 30%;
					border-top: none 0px transparent;
					border-left: 1px solid var(--c-index-white);
					padding: 0;
					&:last-child{
						border-bottom: none 0px transparent;
						border-right: 1px solid var(--c-index-white);
					}
				}
			}
		}
	}

	#divCommonFacilities{
		margin-top: 6rem;
		display: flex;
		flex-wrap: wrap;
		gap: 1rem;
		z-index: 1;
		.card-item{
			flex: 0 0 100%;
			max-width: 100%;
		}
		@include MD{
			.card-item {
				flex: 0 0 calc(50% - 1rem);
				max-width: calc(50% - 1rem);
			}
		}
		@include LG{
			.card-item {
				flex: 0 0 calc(33.3% - 1rem);
				max-width: calc(33.3% - 1rem);
			}
			&:has(> .card-item:nth-child(1):last-child) {
				.card-item {
					flex: 0 0 calc(50% - 1rem);
					max-width: calc(50% - 1rem);
				}
			}

			// 當有 2 個元素時
			&:has(> .card-item:nth-child(2):last-child) {
				.card-item {
					flex: 0 0 calc(50% - 1rem);
					max-width: calc(50% - 1rem);
				}
			}

			// 當有 3 個元素時
			&:has(> .card-item:nth-child(3):last-child) {
				.card-item {
					flex: 0 0 calc(33.3% - 1rem);
					max-width: calc(33.3% - 1rem);
				}
			}

			// 當有 4 個元素時
			&:has(> .card-item:nth-child(4):last-child) {
				.card-item {
					flex: 0 0 calc(50% - 1rem);
					max-width: calc(50% - 1rem);
				}
			}
		}
		@include XL{
			.card-item {
					flex: 0 0 calc(25% - 1rem);
					max-width: calc(25% - 1rem);
				}
			&:has(> .card-item:nth-child(4):last-child) {
				.card-item {
					flex: 0 0 calc(25% - 1rem);
					max-width: calc(25% - 1rem);
				}
			}
		}
	}
	#divAllFacilities{
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		gap: 1rem;
		z-index: 1;
	}
	.index-section-2{
		background-color: var(--c-index-section-2);
		color: var(--c-index-section-2);
		margin-top: -10vw;
		padding: calc(10vw + 8rem) 0 8rem 0;
		header{
			position: relative;
			flex: 0 0 100%;
			z-index: 1;
			h2{
				color: var(--c-index-section-2-t);
			}
			p{
				color: var(--c-index-section-2-t);
			}
		}
		img{
			max-width: 100%;
			width: auto;
			height: auto;
		}
	}
	.index-section-3{
		position: relative;
		padding: 8rem 0 12rem 0;
		background-color: var(--c-index-section-3);
		color: var(--c-index-section-3-t);
		header{
			position: relative;
			flex: 0 0 100%;
			z-index: 1;
			h2{
				color: var(--c-index-section-3-t);
			}
			p{
				color: var(--c-index-section-3-t);
			}
		}
		&::before{
			content: '';
			position: absolute;
			left:0;
			top:0;
			background-color: var(--c-index-section-2);
			z-index: 0;
			mask-position: top left;
			display: block;
			width: 100%;
			height: 12rem;
			mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 12 70" viewBox="0 0 12 70"><circle cx="3" cy="37.9" r="2.5"/><circle cx="9" cy="37.9" r="2.5"/><circle cx="3" cy="43.8" r="2.1"/><circle cx="9" cy="43.8" r="2.1"/><circle cx="3" cy="49.7" r="1.7"/><circle cx="9" cy="49.7" r="1.7"/><circle cx="3" cy="55.6" r="1.3"/><circle cx="9" cy="55.6" r="1.3"/><circle cx="3" cy="61.5" r=".9"/><circle cx="9" cy="61.5" r=".9"/><path d="M3 68c.3 0 .5-.2.5-.5s-.2-.6-.5-.6-.6.2-.6.5.3.6.6.6zM9 68c.3 0 .5-.2.5-.5s-.2-.6-.5-.6-.6.2-.6.5.3.6.6.6zM12 0H0v5.1l.4.4c-.2.1-.3.2-.4.3v5l.6.6-.6.6v4.5l.9.9c-.4.3-.7.6-.9 1V22c.3.6.8 1 1.4 1.3-.6.3-1.1.9-1.4 1.6v2.5c.4.9 1.3 1.7 2.3 1.9C1 29.5.1 30.6.1 32c0 1.6 1.3 2.9 2.9 2.9 1.6 0 2.9-1.3 2.9-2.9 0-1.4-1-2.5-2.2-2.8 1-.2 1.9-.9 2.3-1.9.4.9 1.3 1.7 2.3 1.9-1.3.3-2.2 1.4-2.2 2.8 0 1.6 1.3 2.9 2.9 2.9 1.6 0 2.9-1.3 2.9-2.9 0-1.4-1-2.5-2.2-2.8 1-.2 1.9-.9 2.3-1.9v-2.5c-.3-.7-.8-1.2-1.4-1.5.6-.3 1.1-.7 1.4-1.3v-3.7c-.2-.4-.6-.7-.9-1 .4-.2.7-.5.9-.9V12l-.6-.6.6-.6v-5c-.1-.1-.2-.3-.4-.4.1-.1.3-.2.4-.3V0zM6 5.1c.1.1.2.3.4.4-.2.1-.3.2-.4.3-.1-.1-.2-.3-.4-.4.2-.1.3-.2.4-.3zm0 5.7.6.6-.6.6-.6-.6.6-.6zm0 5.7.9.9c-.4.3-.7.6-.9 1-.3-.4-.6-.7-1-1 .4-.3.8-.6 1-.9zm0 8.3c-.3-.7-.8-1.2-1.4-1.6.6-.2 1.1-.7 1.4-1.2.3.6.8 1 1.4 1.3-.6.3-1.1.9-1.4 1.5z"/></svg>');
		}
	}
	#footer{
		margin: 0 !important;
	}

	.card-item{
		position: relative;
		&::before{
				position: absolute;
				top: 0;
				right: 0;
				content: '';
				width: 3rem;
				height: 3rem;
				display: block;
				background-color: var(--c-index-dark);
				box-shadow: -.15rem .15rem .25rem var(--c-g3);
				border-radius: 0 0 0 1rem;
				z-index: 2;
			}
		&::after{
				position: absolute;
				top: -3.2rem;
				right: -3.2rem;
				content: '';
				width: 0;
				height: 0;
				display: block;
				border-width: 2.75rem;
				border-style: solid;
				border-top-color: transparent;
				border-right-color: transparent;
				border-bottom-color: var(--c-main);
				border-left-color: transparent;
				rotate: 45deg;
				z-index: 2;
			}
		.card{
			position: relative;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			align-items: stretch;
			padding: 2rem .5rem 1rem .5rem;
			border-radius: 1rem;
			border-style: none;
			background-color: var(--c-back-sub);
			color: var(--c-front);
			box-shadow: 0 .25rem .5rem var(--c-g3);
			overflow: hidden;
			&::after{
				pointer-events: none;
				content: '';
				position: absolute;
				bottom: -50%;
				left: 0;
				width: 100%;
				height: 100%;
				background-color: var(--c-index-blue);
				mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 1486.8 1173.4" viewBox="0 0 1486.8 1173.4"><path d="M1133.4 2.5C998.7-12.6 872.1 41.4 789.2 136.3c-54.7 62.7-137.9 92.5-219.8 77.8-10.5-1.9-21.1-3.4-31.9-4.6C271.9 179.7 32.5 371 3 636.7c-29.5 266.3 161.7 504.7 428 533.8 197.2 21.5 379.7-78.8 472.3-240.8 44.9-78.6 126.6-128.7 216.9-135.2 51.7-3.7 105.8-17.1 161.2-42.1 47.2-21.2 87.8-54.7 117.9-96.8C1604 369.3 1422.3 35 1133.4 2.5z"/></svg>');
				mask-repeat: no-repeat;
				mask-position: center;
				mask-size: 99% auto;
				scale: -1.4 .6;
				opacity: .2;
				z-index: 0;
			}
			&::before{
				pointer-events: none;
				content: '';
				position: absolute;
				bottom: -60%;
				left: 0;
				width: 100%;
				height: 100%;
				background-color: var(--c-index-blue);
				mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="enable-background:new 0 0 1486.8 1173.4" viewBox="0 0 1486.8 1173.4"><path d="M1133.4 2.5C998.7-12.6 872.1 41.4 789.2 136.3c-54.7 62.7-137.9 92.5-219.8 77.8-10.5-1.9-21.1-3.4-31.9-4.6C271.9 179.7 32.5 371 3 636.7c-29.5 266.3 161.7 504.7 428 533.8 197.2 21.5 379.7-78.8 472.3-240.8 44.9-78.6 126.6-128.7 216.9-135.2 51.7-3.7 105.8-17.1 161.2-42.1 47.2-21.2 87.8-54.7 117.9-96.8C1604 369.3 1422.3 35 1133.4 2.5z"/></svg>');
				mask-repeat: no-repeat;
				mask-position: center;
				mask-size: 99% auto;
				scale: 1.6 .8;
				opacity: .15;
				z-index: 0;
			}
		}
		h5{
			text-align: center;
			font-size: 1.5rem;
			color: var(--c-front);
				i{
					width: 3rem;
					height: 3.5rem;
					text-align: center;
					filter: drop-shadow(0 0 3px rgba(0,0,0,1));
					cursor: pointer;
					translate: -.5rem -.5rem;
					&::before{
						position: relative;
						top: 0.05rem;
						display: block;
						background-color: var(--c-white);
						color: var(--c-brand);
						border-radius: 99rem;
						width: 2.5rem;
						height: 2.5rem;
						line-height: 2.4rem;
						font-size: 1.3rem;
						margin: 0 0.25rem;
						text-transform: none;
						z-index: 2;
					}
					span:empty{
						position: absolute !important;
						top: 0;
						mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 80 80"><path d="M14.2 10.7c14.3-14.3 37.4-14.3 51.6 0l.7.7c15.3 16.1 12.2 42.2-6.1 54.7L40 80 19.7 66.1C1.3 53.5-1.8 27.5 13.5 11.4c.2-.3.5-.5.7-.7z"/></svg>');
						mask-repeat: no-repeat;
						mask-position: center bottom;
						mask-size: contain;
						display: block;
						position: relative;
						z-index: 1;
						width: 3rem;
						height: 3rem;
						background-color: var(--c-index-highlight);
					}
					&::after{
						content: '';
						position: absolute;
						top: 3.15rem;
						left: 50%;
						transform: translate(-50%, -50%) scaleY(.5);
						width: 1.25rem;
						height: 1rem;
						background-color: var(--c-black);
						opacity: .2;
						border-radius: 99rem;
						z-index: -1;
					}
				}
			z-index: 1;
		}
		.card-body{
			z-index: 1;
			position: relative;
			cursor: pointer;
			.more{
				top:50%;
				left:50%;
				position: absolute;
				pointer-events: none;
				// opacity: 0;
				translate: -50% -50%;
				background-color: var(--c-index-btn-hover);
				color: var(--c-index-btn-hover-t);
				font-weight: bold;
				opacity: 0;
				transition: all .3s ease-in-out;
				z-index: 1;
				scale: 0;
				i{
					margin-right: .5ch;
				}
			}
		}
		.card-cover{
			aspect-ratio: 16 / 8;
			overflow: hidden;
			z-index: 0;
			img{
				width: 100%;
				height: 100%;
				object-fit: cover;
				object-position: center;
			}
		}
		footer{
			text-align: center;
			margin: .5rem auto 0 auto;
			z-index: 1;
		}
		&:has(.card-cover:empty){
			h5 {
				i{
					display: block;
					scale: 2;
					translate: 0;
					margin: 2rem auto 3rem;
				}
			}
			.card-cover{
				display: none;
			}
		}
		transition: all .3s ease-in-out;
		&:hover, &:focus , &:focus-within{
			scale: 1.02;
			.card{
				transition: all .3s ease-in-out;
				background-color: var(--c-yellow);
			}
			.card-text{
				transition: all .3s ease-in-out;
				opacity: .3;
			}
			.card-cover{
				transition: all .3s ease-in-out;
				opacity: .3;
			}
			.more{
				pointer-events: all;
				opacity: 1;
				scale: 1;
			}
			h5 i{
				z-index: 2;
				&::before{
					animation: bounce 1s infinite;
				}
			}
		}
	}

	.btn-highlight {
		background-color: var(--c-index-btn);
		color: var(--c-index-btn-t);
		&:hover, &:focus, &.active {
			background-color: var(--c-index-btn-hover);
		color: var(--c-index-btn-hover-t);
		}
	}

	.card-item-small {
		width: 40%;
		aspect-ratio: 1 / 1;
		padding: calc(var(--bs-gutter-x) * .25);
		scroll-snap-align: start;
		.card{
			background-color: var(--c-white);
			display: flex;
			text-align: center;
			justify-content: center;
			align-items: center;
			text-decoration: none;
			border-radius: 1rem;
			box-shadow: 0 0 .5rem var(--c-g3);
			.card-body{
				order: 2;
				padding: 0;
				margin: 0;
				flex: 0 0 auto;
				color: var(--c-index-black);
			}
			.card-cover{
				order: 1;
				font-size: 4rem;
				i{
					color: var(--c-index-brand);
				}
			}
			&:hover, &:focus, &:focus-within{
				background-color: var(--c-index-btn-hover);
				color: var(--c-index-btn-hover-t);
				scale: 1.05;
				.card-body{
					color: var(--c-index-btn-hover-t);
				}
				.card-cover i{
					color: var(--c-index-btn-hover-t);
					animation: bounce 1s infinite;
				}
			}
		}
		.card-text{
			display: none;
		}
		@include MD{
			width: 10rem;
		}
	}
}

.startup{
	#slider-main{
		.slide{
			opacity: 0;
			pointer-events: none;
		}
		&::before{
			opacity: .6;
			background-color: var(--c-highlight);
		}
	}
}